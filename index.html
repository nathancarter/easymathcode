<html>
    <head>
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="normalize.css">
        <script type="text/javascript" src="showdown.js">
        </script>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config( {
              tex2jax: { inlineMath: [ [ '$', '$' ],
                                       [ '\\(', '\\)' ] ] },
              showProcessingMessages: false
            } );
        </script>
        <script type="text/javascript"
                src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
        <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
        <script src="highlight.pack.js"></script>
        <script type="text/javascript" src="./easymathcode.js">
        </script>
    </head>
    <body style="margin: 1px; padding: 0px;">
        <table border=0 cellpadding=10 cellspacing=0
               width=100% height=100%
               style="table-layout: fixed;">
        <tr>
            <td id="left" style="width: 50%;">
                <textarea id="source"
                          style="width: 100%; height: 100%;">
# Easy math/code documents on the web

## HTML

Type [Markdown](https://daringfireball.net/projects/markdown/) input on the left and it's instantly rendered on the right.

## Math

TeX like $N(\mu,\sigma)\sim\frac{1}{\sigma\sqrt{2\pi}}e^{(x-\mu)^2/2\sigma^2}$ is rendered by [MathJax](http://www.mathjax.org); its full power is at your disposal.

If something conflicts with Markdown syntax (e.g., underscores) you may need to escape it.  Since `_this_` is Markdown for _this_, you should use `$a\_1+a\_2$` to obtain $a\_1+a\_2$.

## Code

Indented code blocks get syntax highlighted, with language auto-detection.  For example, it recognizes [coffeescript](http://coffeescript.org/).

    square = ( x ) -> x * x

With too little code to recognize the language, use a hash to specify.

    # python
    a["b"] = 2.9

To silence the language output, use a double-hash.

    ## javascript
    window.thing = function ( item ) { return item.bork(); }

## Both

If you write [Sage](http://www.sagemath.org) code, like

    ## sage
    plot( x^2, (x,-3,3) )

then you can run it!  Replace `# sage` with `# sagecell`, and it will immediately become executable.

## More

If you change the `## sage` to `## quiz`, this creates a "Quiz yourself" button, and uses your code to generate a quiz for the user.  Your code should then be in the following format (after replacing the "sage" with "quiz").

    ## sage
    a = int(random()*10+1)
    b = int(random()*10+1)
    # Instructions:  Compute $#{a}+#{b}$ and put your answer below.  Press enter to have your answer graded.  Click "Quiz yourself" again to get a new problem.
    Sum : 0
    if ( Sum &lt; a + b ):
        return INCORRECT + " (too small)"
    if ( Sum &gt; a + b ):
        return INCORRECT + " (too large)"
    return CORRECT

The first two lines allow you to do some computations as setup before the quiz is shown.  (These will be re-run every time the user clicks the "Quiz yourself" button to regenerate the quiz.)  They do not need to be assignment statements, but in this case they are.

The third line, commented with a #, gives the user instructions.  Anything inside #{...} will be replaced with its actual value before the user sees the text.

The fourth line initializes the user's answer to a value that will always be incorrect, so that the quiz doesn't start out coincidentally already solved.  The user will then interact with Sage to change this value.  It must always be an identifier followed by a colon and then a value.  You may have as many such lines as you like, if the question requires multiple responses.

The remainder of the code computes whether the user was correct or incorrect, and returns strings that give informative feedback to the user.  The pre-defined constants CORRECT and INCORRECT are green and red (respectively) text that say exactly that (correct, incorrect).  Add your own helpful text after them, as in the example above.  Be as verbose as you like.

*Enjoy!*

-- [Nathan Carter](http://web.bentley.edu/empl/c/ncarter)

## Note

Credits go to all technologies linked to above, plus [Showdown](https://github.com/coreyti/showdown), [highlight.js](http://highlightjs.org/), and [HTML5 Boilerplate](http://html5boilerplate.com/).
</textarea>
            </td>
            <td id="right"
                style="width: 50%; padding: 0px 10px 0px 10px;">
                <div id="output"
                     style="width: 100%; height: 100%; overflow: scroll;">
                </div>
            </td>
        </tr>
        <tr>
            <td id="bottom" colspan=2 height=40>
                <table border=0 cellpadding=0 cellspacing=0
                       width=100%>
                <tr>
                    <td align=left valign=middle width=50%>
                        <a href="#" id="dnld" download="mymath.md"
                        >download .md</a>
                        &nbsp; &nbsp;
                        upload .md:
                        <input type="file" id="files"
                               name="files[]"/>
                        &nbsp; &nbsp;
                        <a href="#" id="dnld2">download .html</a>
                    </td>
                    <td align=right valign=middle width=50%>
                        view: 
                        <input type=button value="Source"
                               onclick="showSource();"/>
                        <input type=button value="HTML"
                               onclick="showHTML();"/>
                        <input type=button value="Both"
                               onclick="showBoth();"/>
                    </td>
                </tr>
                </table>
            </td>
        </tr>
    </body>
    <script type="text/javascript">setup();</script>
</html>
